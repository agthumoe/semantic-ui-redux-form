{"version":3,"sources":["../../src/components/DateTimeField.jsx"],"names":["renderField","fields","id","label","className","meta","touched","error","input","handleOnChange","dateFormat","appendCurrentTime","rest","undefined","value","format","event","data","normalisedDate","onChange","onBlur","DateTimeField","isRequired","validate","newValidator","slice","timeFormat","includes","push","required","propTypes","PropTypes","string","name","oneOfType","element","placeholder","disabled","bool","readOnly","fluid","icon","size","oneOf","arrayOf","func","popupPosition","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { DateTimeInput } from 'semantic-ui-calendar-react';\nimport { Field as ReduxField } from 'redux-form';\nimport { Form } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { required } from './validation';\n\nconst renderField = (fields) => {\n  const {\n    id,\n    label,\n    className,\n    meta: { touched, error },\n    input,\n    handleOnChange,\n    dateFormat,\n    appendCurrentTime,\n    ...rest\n  } = fields;\n  return (\n    <Form.Field className={className}>\n      {label && (\n        <label htmlFor={id}>\n          {label}\n          <small>{touched && error ? `* ( ${error} )` : undefined}</small>\n        </label>\n      )}\n      <DateTimeInput\n        {...rest}\n        {...input}\n        dateTimeFormat={dateFormat}\n        animation=\"fade\"\n        value={input.value ? moment(input.value).format(dateFormat) : ''}\n        onChange={(event, data) => {\n          let normalisedDate = null;\n          if (data && data.value) {\n            normalisedDate = moment(data.value, dateFormat);\n          }\n          if (typeof handleOnChange === 'function') {\n            handleOnChange(event, normalisedDate);\n          }\n          input.onChange(normalisedDate);\n        }}\n        onBlur={() => input.onBlur(input.value)}\n      />\n    </Form.Field>\n  );\n};\n\nconst DateTimeField = ({\n  dateFormat,\n  isRequired,\n  validate,\n  onChange,\n  ...rest\n}) => {\n  const newValidator = validate.slice();\n  let timeFormat = '24';\n  if (dateFormat) {\n    if (dateFormat.includes('a')) {\n      timeFormat = 'ampm';\n    } else if (dateFormat.includes('A')) {\n      timeFormat = 'AMPM';\n    }\n  }\n  if (isRequired) {\n    newValidator.push(required);\n  }\n  return (\n    <ReduxField\n      {...rest}\n      dateFormat={dateFormat}\n      timeFormat={timeFormat}\n      validate={newValidator}\n      handleOnChange={onChange}\n      component={renderField}\n    />\n  );\n};\n\nDateTimeField.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  placeholder: PropTypes.string,\n  disabled: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  isRequired: PropTypes.bool,\n  className: PropTypes.string,\n  fluid: PropTypes.bool,\n  icon: PropTypes.string,\n  size: PropTypes.oneOf([\n    'mini',\n    'small',\n    'large',\n    'big',\n    'huge',\n    'massive',\n    'normal',\n  ]),\n  validate: PropTypes.arrayOf(PropTypes.func),\n  onChange: PropTypes.func,\n  popupPosition: PropTypes.oneOf([\n    'top left',\n    'top right',\n    'bottom left',\n    'bottom right',\n    'right center',\n    'left center',\n    'top center',\n    'bottom center',\n  ]),\n  dateFormat: PropTypes.string,\n  appendCurrentTime: PropTypes.bool,\n};\n\nDateTimeField.defaultProps = {\n  validate: [],\n  label: '',\n  className: '',\n  disabled: false,\n  isRequired: false,\n  readOnly: false,\n  onChange: null,\n  placeholder: '',\n  fluid: false,\n  icon: '',\n  size: null,\n  popupPosition: 'top left',\n  dateFormat: 'DD-MM-YYYY hh:mm A',\n  appendCurrentTime: false,\n};\n\nexport default DateTimeField;\n"],"file":"DateTimeField.js"}